{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/pulkitpandey/Desktop/Dayflow/components/layout/page-header.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { motion, useScroll, useTransform } from \"framer-motion\"\nimport { Button } from \"@/components/ui/button\"\nimport { ChevronRight } from \"lucide-react\"\nimport Link from \"next/link\"\nimport { fadeInUp } from \"@/lib/motion\"\n\ninterface BreadcrumbItem {\n  label: string\n  href?: string\n}\n\ninterface PageHeaderProps {\n  title: string\n  subtitle?: string\n  breadcrumbs?: BreadcrumbItem[]\n  action?: {\n    label: string\n    onClick?: () => void\n    href?: string\n    icon?: React.ReactNode\n  }\n  children?: React.ReactNode\n}\n\nexport function PageHeader({ title, subtitle, breadcrumbs, action, children }: PageHeaderProps) {\n  const { scrollY } = useScroll()\n  const headerPadding = useTransform(scrollY, [0, 100], [24, 16])\n  const titleSize = useTransform(scrollY, [0, 100], [1.5, 1.25])\n\n  return (\n    <motion.div\n      style={{ paddingTop: headerPadding, paddingBottom: headerPadding }}\n      className=\"relative border-b border-border/50 bg-background/50 px-4 backdrop-blur-sm lg:px-6\"\n    >\n      {/* Subtle gradient overlay */}\n      <div className=\"pointer-events-none absolute inset-0 bg-gradient-to-r from-[hsl(168_76%_40%_/_0.02)] via-transparent to-[hsl(161_94%_40%_/_0.02)]\" />\n\n      <motion.div\n        initial={fadeInUp.initial}\n        animate={fadeInUp.animate}\n        transition={{ duration: 0.4, ease: [0.25, 0.1, 0.25, 1] }}\n        className=\"relative\"\n      >\n        {/* Breadcrumbs */}\n        {breadcrumbs && breadcrumbs.length > 0 && (\n          <nav className=\"mb-3 flex items-center gap-1.5 text-sm\">\n            {breadcrumbs.map((item, index) => (\n              <span key={index} className=\"flex items-center gap-1.5\">\n                {index > 0 && <ChevronRight className=\"h-3.5 w-3.5 text-muted-foreground/50\" />}\n                {item.href ? (\n                  <Link href={item.href} className=\"text-muted-foreground transition-colors hover:text-foreground\">\n                    {item.label}\n                  </Link>\n                ) : (\n                  <span className=\"font-medium text-foreground\">{item.label}</span>\n                )}\n              </span>\n            ))}\n          </nav>\n        )}\n\n        {/* Title and Action */}\n        <div className=\"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between\">\n          <div>\n            <motion.h1 style={{ fontSize: `${titleSize}rem` }} className=\"font-semibold tracking-tight text-foreground\">\n              {title}\n            </motion.h1>\n            {subtitle && <p className=\"mt-1 text-sm text-muted-foreground\">{subtitle}</p>}\n          </div>\n          <div className=\"flex items-center gap-3\">\n            {children}\n            {action && (\n              <motion.div whileHover={{ scale: 1.02 }} whileTap={{ scale: 0.98 }}>\n                {action.href ? (\n                  <Button\n                    asChild\n                    className=\"bg-[hsl(174_70%_17%)] shadow-lg shadow-[hsl(174_70%_17%_/_0.2)] hover:bg-[hsl(174_70%_22%)]\"\n                  >\n                    <Link href={action.href}>\n                      {action.icon}\n                      {action.label}\n                    </Link>\n                  </Button>\n                ) : (\n                  <Button\n                    onClick={action.onClick}\n                    className=\"bg-[hsl(174_70%_17%)] shadow-lg shadow-[hsl(174_70%_17%_/_0.2)] hover:bg-[hsl(174_70%_22%)]\"\n                  >\n                    {action.icon}\n                    {action.label}\n                  </Button>\n                )}\n              </motion.div>\n            )}\n          </div>\n        </div>\n      </motion.div>\n    </motion.div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAPA;;;;;;;AA2BO,SAAS,WAAW,EAAE,KAAK,EAAE,QAAQ,EAAE,WAAW,EAAE,MAAM,EAAE,QAAQ,EAAmB;IAC5F,MAAM,EAAE,OAAO,EAAE,GAAG,IAAA,4MAAS;IAC7B,MAAM,gBAAgB,IAAA,kNAAY,EAAC,SAAS;QAAC;QAAG;KAAI,EAAE;QAAC;QAAI;KAAG;IAC9D,MAAM,YAAY,IAAA,kNAAY,EAAC,SAAS;QAAC;QAAG;KAAI,EAAE;QAAC;QAAK;KAAK;IAE7D,qBACE,oQAAC,0NAAM,CAAC,GAAG;QACT,OAAO;YAAE,YAAY;YAAe,eAAe;QAAc;QACjE,WAAU;;0BAGV,oQAAC;gBAAI,WAAU;;;;;;0BAEf,oQAAC,0NAAM,CAAC,GAAG;gBACT,SAAS,+IAAQ,CAAC,OAAO;gBACzB,SAAS,+IAAQ,CAAC,OAAO;gBACzB,YAAY;oBAAE,UAAU;oBAAK,MAAM;wBAAC;wBAAM;wBAAK;wBAAM;qBAAE;gBAAC;gBACxD,WAAU;;oBAGT,eAAe,YAAY,MAAM,GAAG,mBACnC,oQAAC;wBAAI,WAAU;kCACZ,YAAY,GAAG,CAAC,CAAC,MAAM,sBACtB,oQAAC;gCAAiB,WAAU;;oCACzB,QAAQ,mBAAK,oQAAC,4PAAY;wCAAC,WAAU;;;;;;oCACrC,KAAK,IAAI,iBACR,oQAAC,6LAAI;wCAAC,MAAM,KAAK,IAAI;wCAAE,WAAU;kDAC9B,KAAK,KAAK;;;;;6DAGb,oQAAC;wCAAK,WAAU;kDAA+B,KAAK,KAAK;;;;;;;+BAPlD;;;;;;;;;;kCAejB,oQAAC;wBAAI,WAAU;;0CACb,oQAAC;;kDACC,oQAAC,0NAAM,CAAC,EAAE;wCAAC,OAAO;4CAAE,UAAU,GAAG,UAAU,GAAG,CAAC;wCAAC;wCAAG,WAAU;kDAC1D;;;;;;oCAEF,0BAAY,oQAAC;wCAAE,WAAU;kDAAsC;;;;;;;;;;;;0CAElE,oQAAC;gCAAI,WAAU;;oCACZ;oCACA,wBACC,oQAAC,0NAAM,CAAC,GAAG;wCAAC,YAAY;4CAAE,OAAO;wCAAK;wCAAG,UAAU;4CAAE,OAAO;wCAAK;kDAC9D,OAAO,IAAI,iBACV,oQAAC,2JAAM;4CACL,OAAO;4CACP,WAAU;sDAEV,cAAA,oQAAC,6LAAI;gDAAC,MAAM,OAAO,IAAI;;oDACpB,OAAO,IAAI;oDACX,OAAO,KAAK;;;;;;;;;;;iEAIjB,oQAAC,2JAAM;4CACL,SAAS,OAAO,OAAO;4CACvB,WAAU;;gDAET,OAAO,IAAI;gDACX,OAAO,KAAK;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAUjC"}},
    {"offset": {"line": 211, "column": 0}, "map": {"version":3,"sources":["file:///Users/pulkitpandey/Desktop/Dayflow/components/ui/card.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Card({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card\"\n      className={cn(\n        'bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardHeader({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-header\"\n      className={cn(\n        '@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardTitle({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-title\"\n      className={cn('leading-none font-semibold', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardDescription({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-description\"\n      className={cn('text-muted-foreground text-sm', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardAction({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-action\"\n      className={cn(\n        'col-start-2 row-span-2 row-start-1 self-start justify-self-end',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nfunction CardContent({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-content\"\n      className={cn('px-6', className)}\n      {...props}\n    />\n  )\n}\n\nfunction CardFooter({ className, ...props }: React.ComponentProps<'div'>) {\n  return (\n    <div\n      data-slot=\"card-footer\"\n      className={cn('flex items-center px-6 [.border-t]:pt-6', className)}\n      {...props}\n    />\n  )\n}\n\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardAction,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAEA;;;AAEA,SAAS,KAAK,EAAE,SAAS,EAAE,GAAG,OAAoC;IAChE,qBACE,oQAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,qFACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oQAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,4JACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,UAAU,EAAE,SAAS,EAAE,GAAG,OAAoC;IACrE,qBACE,oQAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,gBAAgB,EAAE,SAAS,EAAE,GAAG,OAAoC;IAC3E,qBACE,oQAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oQAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,kEACA;QAED,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,YAAY,EAAE,SAAS,EAAE,GAAG,OAAoC;IACvE,qBACE,oQAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,QAAQ;QACrB,GAAG,KAAK;;;;;;AAGf;AAEA,SAAS,WAAW,EAAE,SAAS,EAAE,GAAG,OAAoC;IACtE,qBACE,oQAAC;QACC,aAAU;QACV,WAAW,IAAA,wIAAE,EAAC,2CAA2C;QACxD,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 313, "column": 0}, "map": {"version":3,"sources":["file:///Users/pulkitpandey/Desktop/Dayflow/components/layout/section-card.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { motion } from \"framer-motion\"\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\"\nimport { cn } from \"@/lib/utils\"\n\ninterface SectionCardProps {\n  title?: string\n  description?: string\n  children: React.ReactNode\n  className?: string\n  contentClassName?: string\n  action?: React.ReactNode\n  delay?: number\n}\n\nexport function SectionCard({\n  title,\n  description,\n  children,\n  className,\n  contentClassName,\n  action,\n  delay = 0,\n}: SectionCardProps) {\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 16 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.4, delay, ease: [0.25, 0.1, 0.25, 1] }}\n    >\n      <Card\n        className={cn(\n          \"border-border/50 bg-card/80 shadow-sm backdrop-blur-sm transition-shadow hover:shadow-md dark:bg-card/90\",\n          className,\n        )}\n      >\n        {(title || description) && (\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-4\">\n            <div>\n              {title && <CardTitle className=\"text-base font-semibold\">{title}</CardTitle>}\n              {description && <CardDescription className=\"mt-1\">{description}</CardDescription>}\n            </div>\n            {action}\n          </CardHeader>\n        )}\n        <CardContent className={cn(!(title || description) && \"pt-6\", contentClassName)}>{children}</CardContent>\n      </Card>\n    </motion.div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AACA;AACA;AALA;;;;;AAiBO,SAAS,YAAY,EAC1B,KAAK,EACL,WAAW,EACX,QAAQ,EACR,SAAS,EACT,gBAAgB,EAChB,MAAM,EACN,QAAQ,CAAC,EACQ;IACjB,qBACE,oQAAC,0NAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;YAAK;YAAO,MAAM;gBAAC;gBAAM;gBAAK;gBAAM;aAAE;QAAC;kBAE/D,cAAA,oQAAC,uJAAI;YACH,WAAW,IAAA,wIAAE,EACX,4GACA;;gBAGD,CAAC,SAAS,WAAW,mBACpB,oQAAC,6JAAU;oBAAC,WAAU;;sCACpB,oQAAC;;gCACE,uBAAS,oQAAC,4JAAS;oCAAC,WAAU;8CAA2B;;;;;;gCACzD,6BAAe,oQAAC,kKAAe;oCAAC,WAAU;8CAAQ;;;;;;;;;;;;wBAEpD;;;;;;;8BAGL,oQAAC,8JAAW;oBAAC,WAAW,IAAA,wIAAE,EAAC,CAAC,CAAC,SAAS,WAAW,KAAK,QAAQ;8BAAoB;;;;;;;;;;;;;;;;;AAI1F"}},
    {"offset": {"line": 407, "column": 0}, "map": {"version":3,"sources":["file:///Users/pulkitpandey/Desktop/Dayflow/components/ui/input.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport { cn } from '@/lib/utils'\n\nfunction Input({ className, type, ...props }: React.ComponentProps<'input'>) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        'file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm',\n        'focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]',\n        'aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,oQAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,8bACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 432, "column": 0}, "map": {"version":3,"sources":["file:///Users/pulkitpandey/Desktop/Dayflow/components/ui/label.tsx"],"sourcesContent":["'use client'\n\nimport * as React from 'react'\nimport * as LabelPrimitive from '@radix-ui/react-label'\n\nimport { cn } from '@/lib/utils'\n\nfunction Label({\n  className,\n  ...props\n}: React.ComponentProps<typeof LabelPrimitive.Root>) {\n  return (\n    <LabelPrimitive.Root\n      data-slot=\"label\"\n      className={cn(\n        'flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50',\n        className,\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Label }\n"],"names":[],"mappings":";;;;;AAGA;AAEA;AALA;;;;AAOA,SAAS,MAAM,EACb,SAAS,EACT,GAAG,OAC8C;IACjD,qBACE,oQAAC,+LAAmB;QAClB,aAAU;QACV,WAAW,IAAA,wIAAE,EACX,uNACA;QAED,GAAG,KAAK;;;;;;AAGf"}},
    {"offset": {"line": 459, "column": 0}, "map": {"version":3,"sources":["file:///Users/pulkitpandey/Desktop/Dayflow/components/forms/profile-edit-form.tsx"],"sourcesContent":["\"use client\"\n\nimport type React from \"react\"\nimport { useState } from \"react\"\nimport { Button } from \"@/components/ui/button\"\nimport { Input } from \"@/components/ui/input\"\nimport { Label } from \"@/components/ui/label\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { Loader2, Upload } from \"lucide-react\"\n\ninterface ProfileEditFormProps {\n  initialData: {\n    name: string\n    email: string\n    phone: string\n    address?: string\n    avatar?: string\n  }\n  onSubmit: (data: ProfileFormData) => void\n  onCancel: () => void\n  isSubmitting?: boolean\n}\n\nexport interface ProfileFormData {\n  name: string\n  email: string\n  phone: string\n  address: string\n}\n\nexport function ProfileEditForm({ initialData, onSubmit, onCancel, isSubmitting }: ProfileEditFormProps) {\n  const [formData, setFormData] = useState({\n    name: initialData.name,\n    email: initialData.email,\n    phone: initialData.phone,\n    address: initialData.address || \"\",\n  })\n  const [errors, setErrors] = useState<Record<string, string>>({})\n\n  const validate = () => {\n    const newErrors: Record<string, string> = {}\n    if (!formData.name.trim()) newErrors.name = \"Name is required\"\n    if (!formData.email.trim()) newErrors.email = \"Email is required\"\n    if (!/^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/.test(formData.email)) newErrors.email = \"Invalid email format\"\n    setErrors(newErrors)\n    return Object.keys(newErrors).length === 0\n  }\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault()\n    if (validate()) {\n      onSubmit(formData)\n    }\n  }\n\n  const handleChange = (field: string, value: string) => {\n    setFormData((prev) => ({ ...prev, [field]: value }))\n    if (errors[field]) {\n      setErrors((prev) => ({ ...prev, [field]: \"\" }))\n    }\n  }\n\n  return (\n    <form onSubmit={handleSubmit} className=\"space-y-6\">\n      <div className=\"flex items-center gap-4\">\n        <Avatar className=\"h-20 w-20\">\n          <AvatarImage src={initialData.avatar || \"/placeholder.svg\"} alt={formData.name} />\n          <AvatarFallback className=\"bg-primary/10 text-lg text-primary\">\n            {formData.name\n              .split(\" \")\n              .map((n) => n[0])\n              .join(\"\")}\n          </AvatarFallback>\n        </Avatar>\n        <Button type=\"button\" variant=\"outline\" size=\"sm\">\n          <Upload className=\"mr-2 h-4 w-4\" />\n          Change Photo\n        </Button>\n      </div>\n\n      <div className=\"grid gap-4 sm:grid-cols-2\">\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"name\">Full Name</Label>\n          <Input\n            id=\"name\"\n            value={formData.name}\n            onChange={(e) => handleChange(\"name\", e.target.value)}\n            className={errors.name ? \"border-destructive\" : \"\"}\n            disabled\n          />\n          {errors.name && <p className=\"text-sm text-destructive\">{errors.name}</p>}\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"email\">Email</Label>\n          <Input\n            id=\"email\"\n            type=\"email\"\n            value={formData.email}\n            onChange={(e) => handleChange(\"email\", e.target.value)}\n            className={errors.email ? \"border-destructive\" : \"\"}\n            disabled\n          />\n          {errors.email && <p className=\"text-sm text-destructive\">{errors.email}</p>}\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"phone\">Phone Number</Label>\n          <Input id=\"phone\" value={formData.phone} onChange={(e) => handleChange(\"phone\", e.target.value)} />\n        </div>\n\n        <div className=\"space-y-2\">\n          <Label htmlFor=\"address\">Address</Label>\n          <Input id=\"address\" value={formData.address} onChange={(e) => handleChange(\"address\", e.target.value)} />\n        </div>\n      </div>\n\n      <div className=\"flex justify-end gap-2 pt-4\">\n        <Button type=\"button\" variant=\"outline\" onClick={onCancel} disabled={isSubmitting}>\n          Cancel\n        </Button>\n        <Button type=\"submit\" disabled={isSubmitting}>\n          {isSubmitting && <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />}\n          Save Changes\n        </Button>\n      </div>\n    </form>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 753, "column": 0}, "map": {"version":3,"sources":["file:///Users/pulkitpandey/Desktop/Dayflow/lib/api.ts"],"sourcesContent":["/**\n * API Client for Dayflow HRMS\n * Connects frontend to FastAPI backend running on localhost:8000\n */\n\nconst API_BASE_URL = process.env.NEXT_PUBLIC_API_URL || 'http://localhost:8000';\n\n// Token storage helpers\nexport function getToken(): string | null {\n    if (typeof window === 'undefined') return null;\n    return localStorage.getItem('dayflow_token');\n}\n\nexport function setToken(token: string): void {\n    if (typeof window !== 'undefined') {\n        localStorage.setItem('dayflow_token', token);\n    }\n}\n\nexport function clearToken(): void {\n    if (typeof window !== 'undefined') {\n        localStorage.removeItem('dayflow_token');\n    }\n}\n\n// Generic fetch wrapper with auth\nasync function apiFetch<T>(\n    endpoint: string,\n    options: RequestInit = {}\n): Promise<T> {\n    const token = getToken();\n\n    const headers: HeadersInit = {\n        'Content-Type': 'application/json',\n        ...(options.headers || {}),\n    };\n\n    if (token) {\n        (headers as Record<string, string>)['Authorization'] = `Bearer ${token}`;\n    }\n\n    let response: Response;\n    try {\n        response = await fetch(`${API_BASE_URL}${endpoint}`, {\n            ...options,\n            headers,\n        });\n    } catch (error) {\n        // Network error\n        throw new APIError('Network error. Please check your connection.', 0, { networkError: true });\n    }\n\n    if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        \n        // Handle 401 - clear token and redirect to login\n        if (response.status === 401) {\n            clearToken();\n            if (typeof window !== 'undefined') {\n                window.location.href = '/auth/login';\n            }\n        }\n        \n        throw new APIError(\n            errorData.message || errorData.detail || `API Error: ${response.status}`,\n            response.status,\n            errorData\n        );\n    }\n\n    // Handle empty responses (204 No Content)\n    const text = await response.text();\n    if (!text) {\n        return {} as T;\n    }\n    \n    return JSON.parse(text);\n}\n\n// Custom error class for API errors\nexport class APIError extends Error {\n    status: number;\n    data: unknown;\n\n    constructor(message: string, status: number, data?: unknown) {\n        super(message);\n        this.name = 'APIError';\n        this.status = status;\n        this.data = data;\n    }\n}\n\n// ============ AUTH ENDPOINTS ============\n\nexport interface LoginRequest {\n    email: string;\n    password: string;\n}\n\nexport interface LoginResponse {\n    access_token: string;\n    token_type: string;\n    user_id: number;\n    role: string;\n}\n\nexport interface SignupRequest {\n    email: string;\n    password: string;\n    role: 'Admin' | 'Employee';\n}\n\nexport interface SignupResponse {\n    user_id: number;\n    email: string;\n    role: string;\n    message: string;\n}\n\nexport async function login(data: LoginRequest): Promise<LoginResponse> {\n    const response = await apiFetch<LoginResponse>('/api/auth/login', {\n        method: 'POST',\n        body: JSON.stringify(data),\n    });\n\n    // Store the token\n    setToken(response.access_token);\n\n    return response;\n}\n\nexport async function signup(data: SignupRequest): Promise<SignupResponse> {\n    const response = await apiFetch<SignupResponse>('/api/auth/signup', {\n        method: 'POST',\n        body: JSON.stringify(data),\n    });\n\n    // Note: Signup doesn't return a token - user must login after signup\n    return response;\n}\n\nexport function logout(): void {\n    clearToken();\n}\n\n// ============ ATTENDANCE ENDPOINTS ============\n\nexport interface AttendanceRecord {\n    id: number;\n    user_id: number;\n    date: string;\n    check_in: string | null;\n    check_out: string | null;\n    status: 'Present' | 'Half-day' | 'Absent' | 'On Leave';\n    created_at: string;\n}\n\nexport interface CheckInResponse {\n    attendance_id: number;\n    check_in_time: string;\n    date: string;\n    message: string;\n}\n\nexport interface CheckOutResponse {\n    attendance_id: number;\n    check_out_time: string;\n    status: string;\n    message: string;\n}\n\nexport async function checkIn(): Promise<CheckInResponse> {\n    return apiFetch<CheckInResponse>('/api/attendance/check-in', {\n        method: 'POST',\n    });\n}\n\nexport async function checkOut(): Promise<CheckOutResponse> {\n    return apiFetch<CheckOutResponse>('/api/attendance/check-out', {\n        method: 'POST',\n    });\n}\n\nexport interface AttendanceHistoryParams {\n    start_date?: string;\n    end_date?: string;\n    user_id?: number;\n}\n\nexport interface AttendanceHistoryResponse {\n    records: AttendanceRecord[];\n}\n\nexport async function getAttendanceHistory(\n    params?: AttendanceHistoryParams\n): Promise<AttendanceHistoryResponse> {\n    const searchParams = new URLSearchParams();\n    if (params?.start_date) searchParams.append('start_date', params.start_date);\n    if (params?.end_date) searchParams.append('end_date', params.end_date);\n    if (params?.user_id) searchParams.append('user_id', String(params.user_id));\n\n    const query = searchParams.toString();\n    return apiFetch<AttendanceHistoryResponse>(\n        `/api/attendance/history${query ? `?${query}` : ''}`\n    );\n}\n\n// ============ LEAVE ENDPOINTS ============\n\nexport interface LeaveRequest {\n    id: number;\n    user_id: number;\n    leave_type: 'Sick' | 'Casual' | 'Vacation' | 'Unpaid';\n    start_date: string;\n    end_date: string;\n    remarks: string | null;\n    status: 'Pending' | 'Approved' | 'Rejected';\n    days_count: number;\n    reviewed_by: number | null;\n    reviewed_at: string | null;\n    admin_comments: string | null;\n    created_at: string;\n}\n\nexport interface CreateLeaveRequest {\n    leave_type: 'Sick' | 'Casual' | 'Vacation' | 'Unpaid';\n    start_date: string;\n    end_date: string;\n    remarks?: string;\n}\n\nexport interface LeaveRequestResponse {\n    message: string;\n    leave_request: LeaveRequest;\n}\n\nexport async function createLeaveRequest(\n    data: CreateLeaveRequest\n): Promise<LeaveRequestResponse> {\n    return apiFetch<LeaveRequestResponse>('/api/leave/request', {\n        method: 'POST',\n        body: JSON.stringify(data),\n    });\n}\n\nexport interface LeaveListResponse {\n    leave_requests: LeaveRequest[];\n    total: number;\n    page: number;\n    page_size: number;\n}\n\nexport async function getMyLeaveRequests(\n    page = 1,\n    pageSize = 10\n): Promise<LeaveListResponse> {\n    return apiFetch<LeaveListResponse>(\n        `/api/leave/my-requests?page=${page}&page_size=${pageSize}`\n    );\n}\n\nexport async function getAllLeaveRequests(\n    page = 1,\n    pageSize = 10,\n    status?: string\n): Promise<LeaveListResponse> {\n    const params = new URLSearchParams({\n        page: String(page),\n        page_size: String(pageSize),\n    });\n    if (status) params.append('status_filter', status);\n\n    return apiFetch<LeaveListResponse>(`/api/leave/all-requests?${params.toString()}`);\n}\n\nexport interface LeaveReview {\n    comments?: string;\n}\n\nexport async function approveLeaveRequest(\n    requestId: number,\n    review?: LeaveReview\n): Promise<LeaveRequestResponse> {\n    return apiFetch<LeaveRequestResponse>(`/api/leave/${requestId}/approve`, {\n        method: 'PUT',\n        body: JSON.stringify(review || {}),\n    });\n}\n\nexport async function rejectLeaveRequest(\n    requestId: number,\n    review?: LeaveReview\n): Promise<LeaveRequestResponse> {\n    return apiFetch<LeaveRequestResponse>(`/api/leave/${requestId}/reject`, {\n        method: 'PUT',\n        body: JSON.stringify(review || {}),\n    });\n}\n\n// ============ PROFILE ENDPOINTS ============\n\nexport interface UserProfile {\n    user: {\n        id: number;\n        email: string;\n        role: string;\n    };\n    profile: {\n        id: number;\n        employee_id: string | null;\n        first_name: string;\n        last_name: string;\n        department: string | null;\n        position: string | null;\n        phone: string | null;\n        address: string | null;\n        date_of_joining: string | null;\n        emergency_contact: string | null;\n    } | null;\n}\n\nexport async function getMyProfile(): Promise<UserProfile> {\n    return apiFetch<UserProfile>('/api/profile/me');\n}\n\nexport interface ProfileUpdateData {\n    phone?: string;\n    address?: string;\n    emergency_contact?: string;\n}\n\nexport async function updateMyProfile(\n    data: ProfileUpdateData\n): Promise<UserProfile> {\n    return apiFetch<UserProfile>('/api/profile/me', {\n        method: 'PUT',\n        body: JSON.stringify(data),\n    });\n}\n\n// ============ DASHBOARD ENDPOINTS ============\n\nexport interface EmployeeDashboard {\n    attendance_summary: {\n        present_days: number;\n        absent_days: number;\n        half_days: number;\n        on_leave_days: number;\n        total_working_days: number;\n    };\n    recent_attendance: AttendanceRecord[];\n    recent_leave_requests: LeaveRequest[];\n    pending_leave_count: number;\n    today_status: AttendanceRecord | null;\n}\n\nexport async function getEmployeeDashboard(): Promise<EmployeeDashboard> {\n    return apiFetch<EmployeeDashboard>('/api/dashboard/employee');\n}\n\nexport interface AdminDashboard {\n    total_employees: number;\n    present_today: number;\n    on_leave_today: number;\n    pending_approvals: number;\n    attendance_overview: {\n        present: number;\n        absent: number;\n        on_leave: number;\n        half_day: number;\n    };\n    pending_leave_requests: LeaveRequest[];\n}\n\nexport async function getAdminDashboard(): Promise<AdminDashboard> {\n    return apiFetch<AdminDashboard>('/api/dashboard/admin');\n}\n\n// ============ EMPLOYEE ENDPOINTS (Admin) ============\n\nexport interface Employee {\n    id: number;\n    user_id: number;\n    name: string;\n    email: string;\n    employee_id: string;\n    department: string;\n    position: string;\n    status: string;\n    joining_date: string;\n}\n\nexport interface EmployeeListResponse {\n    employees: Employee[];\n    total: number;\n    page: number;\n    page_size: number;\n}\n\nexport async function getEmployees(\n    page = 1,\n    pageSize = 10,\n    department?: string\n): Promise<EmployeeListResponse> {\n    const params = new URLSearchParams({\n        page: String(page),\n        page_size: String(pageSize),\n    });\n    if (department) params.append('department', department);\n\n    return apiFetch<EmployeeListResponse>(`/api/employees?${params.toString()}`);\n}\n\nexport async function getEmployee(employeeId: number): Promise<Employee> {\n    return apiFetch<Employee>(`/api/employees/${employeeId}`);\n}\n\n// ============ PAYROLL ENDPOINTS ============\n\nexport interface PayrollRecord {\n    id: number;\n    user_id: number;\n    basic_salary: number;\n    allowances: number;\n    deductions: number;\n    net_salary: number;\n    effective_date: string;\n}\n\nexport async function getMyPayroll(): Promise<PayrollRecord> {\n    return apiFetch<PayrollRecord>('/api/payroll/me');\n}\n\nexport async function getEmployeePayroll(\n    employeeId: number\n): Promise<PayrollRecord> {\n    return apiFetch<PayrollRecord>(`/api/payroll/${employeeId}`);\n}\n\n// ============ NOTIFICATION ENDPOINTS ============\n\nexport interface Notification {\n    id: number;\n    notification_type: string;\n    message: string;\n    related_entity_type: string | null;\n    related_entity_id: number | null;\n    is_read: boolean;\n    created_at: string;\n}\n\nexport interface NotificationListResponse {\n    notifications: Notification[];\n    unread_count: number;\n    total: number;\n    page: number;\n    page_size: number;\n}\n\nexport async function getNotifications(\n    page = 1,\n    pageSize = 10\n): Promise<NotificationListResponse> {\n    return apiFetch<NotificationListResponse>(\n        `/api/notifications?page=${page}&page_size=${pageSize}`\n    );\n}\n\nexport async function markNotificationRead(id: number): Promise<void> {\n    return apiFetch<void>(`/api/notifications/${id}/read`, {\n        method: 'POST',\n    });\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 982, "column": 0}, "map": {"version":3,"sources":["file:///Users/pulkitpandey/Desktop/Dayflow/app/employee/profile/page.tsx"],"sourcesContent":["\"use client\"\n\nimport { useState, useRef, useEffect } from \"react\"\nimport { PageHeader } from \"@/components/layout/page-header\"\nimport { SectionCard } from \"@/components/layout/section-card\"\nimport { ProfileEditForm } from \"@/components/forms/profile-edit-form\"\nimport { Avatar, AvatarFallback, AvatarImage } from \"@/components/ui/avatar\"\nimport { Button } from \"@/components/ui/button\"\nimport { Mail, Phone, Building2, Calendar, Briefcase, Edit2, MapPin, Users, Loader2 } from \"lucide-react\"\nimport { toast } from \"sonner\"\nimport { useMountAnimation, useScrollAnimation, useHoverAnimation } from \"@/lib/motion/hooks\"\nimport { profileAnimationOptions } from \"@/lib/motion/animations/profileAnimations\"\nimport { getMyProfile, UserProfile, updateMyProfile } from \"@/lib/api\"\n\nexport default function EmployeeProfilePage() {\n  const [isEditing, setIsEditing] = useState(false)\n  const [loading, setLoading] = useState(true)\n  const [profileData, setProfileData] = useState<UserProfile | null>(null)\n\n  useEffect(() => {\n    fetchProfile()\n  }, [])\n\n  const fetchProfile = async () => {\n    try {\n      const data = await getMyProfile()\n      setProfileData(data)\n    } catch (error) {\n      console.error(\"Failed to fetch profile:\", error)\n      toast.error(\"Failed to load profile data\")\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  // Refs for animations\n  const avatarRef = useRef<HTMLDivElement>(null)\n  const infoRowsRef = useRef<HTMLDivElement>(null)\n  const editButtonRef = useRef<HTMLButtonElement>(null)\n  const noteBoxRef = useRef<HTMLDivElement>(null)\n\n  // Apply animations\n  useScrollAnimation(avatarRef, profileAnimationOptions.avatar)\n  useMountAnimation(infoRowsRef, profileAnimationOptions.infoRows)\n  useMountAnimation(editButtonRef, profileAnimationOptions.editButton)\n  useHoverAnimation(editButtonRef, profileAnimationOptions.editButtonHover)\n  useScrollAnimation(noteBoxRef, profileAnimationOptions.noteBox)\n\n  const handleSaveProfile = async (data: any) => {\n    try {\n      await updateMyProfile({\n        phone: data.phone,\n        address: data.address,\n      })\n      await fetchProfile() // Refresh data\n      setIsEditing(false)\n      toast.success(\"Profile updated successfully\")\n    } catch (error) {\n      console.error(\"Failed to update profile\", error)\n      toast.error(\"Failed to update profile\")\n    }\n  }\n\n  if (loading) {\n    return (\n      <div className=\"flex min-h-screen items-center justify-center\">\n        <Loader2 className=\"h-8 w-8 animate-spin text-[hsl(168_76%_40%)]\" />\n      </div>\n    )\n  }\n\n  if (!profileData) return null\n\n  const { user, profile } = profileData\n\n  // Construct full name safely\n  const fullName = profile\n    ? `${profile.first_name} ${profile.last_name}`\n    : user.email.split(\"@\")[0]\n\n  // Format joining date\n  const joiningDate = profile?.date_of_joining\n    ? new Date(profile.date_of_joining).toLocaleDateString(\"en-US\", { month: \"long\", year: \"numeric\" })\n    : \"N/A\"\n\n  const profileDetails = [\n    { icon: Mail, label: \"Email\", value: user.email },\n    { icon: Phone, label: \"Phone\", value: profile?.phone || \"Not set\" },\n    { icon: Building2, label: \"Department\", value: profile?.department || \"N/A\" },\n    { icon: Briefcase, label: \"Position\", value: profile?.position || \"N/A\" },\n    { icon: Calendar, label: \"Join Date\", value: joiningDate },\n  ]\n\n  return (\n    <div className=\"min-h-screen\">\n      <PageHeader\n        title=\"My Profile\"\n        subtitle=\"View and manage your personal information\"\n        breadcrumbs={[{ label: \"Dashboard\", href: \"/employee/dashboard\" }, { label: \"Profile\" }]}\n        action={\n          !isEditing\n            ? {\n              label: \"Edit Profile\",\n              onClick: () => setIsEditing(true),\n              icon: <Edit2 className=\"mr-2 h-4 w-4\" />,\n            }\n            : undefined\n        }\n      />\n\n      <div className=\"space-y-6 p-4 lg:p-6\">\n        {isEditing ? (\n          <SectionCard title=\"Edit Profile\">\n            <ProfileEditForm\n              initialData={{\n                name: fullName,\n                email: user.email,\n                phone: profile?.phone || \"\",\n              }}\n              onSubmit={handleSaveProfile}\n              onCancel={() => setIsEditing(false)}\n            />\n          </SectionCard>\n        ) : (\n          <>\n            {/* Profile Header with Avatar */}\n            <div>\n              <SectionCard>\n                <div className=\"flex flex-col items-center gap-6 sm:flex-row sm:items-start\">\n                  <div ref={avatarRef} className=\"profile-avatar relative\">\n                    <Avatar className=\"h-28 w-28 ring-4 ring-[hsl(168_76%_40%_/_0.1)]\">\n                      <AvatarImage src=\"/placeholder.svg\" alt={fullName} />\n                      <AvatarFallback className=\"bg-gradient-to-br from-[hsl(174_70%_17%)] to-[hsl(168_76%_40%)] text-2xl font-semibold text-white\">\n                        {fullName\n                          .split(\" \")\n                          .map((n) => n[0])\n                          .join(\"\")\n                          .toUpperCase()}\n                      </AvatarFallback>\n                    </Avatar>\n                    <div className=\"absolute -bottom-1 -right-1 h-6 w-6 rounded-full border-2 border-white bg-emerald-500\" />\n                  </div>\n                  <div className=\"flex-1 text-center sm:text-left\">\n                    <h2 className=\"text-2xl font-semibold\">{fullName}</h2>\n                    <p className=\"text-muted-foreground\">{profile?.position || \"Employee\"}</p>\n                    <div className=\"mt-2 flex flex-wrap items-center justify-center gap-3 text-sm text-muted-foreground sm:justify-start\">\n                      <span className=\"flex items-center gap-1\">\n                        <Building2 className=\"h-4 w-4\" />\n                        {profile?.department || \"No Department\"}\n                      </span>\n                      <span className=\"flex items-center gap-1\">\n                        <MapPin className=\"h-4 w-4\" />\n                        {profile?.address || \"Location not set\"}\n                      </span>\n                    </div>\n                    <div className=\"mt-4\">\n                      <Button\n                        ref={editButtonRef}\n                        className=\"profile-edit-button border-[hsl(168_76%_40%_/_0.3)] text-[hsl(168_76%_40%)] hover:bg-[hsl(168_76%_40%_/_0.05)] bg-transparent\"\n                        variant=\"outline\"\n                        size=\"sm\"\n                        onClick={() => setIsEditing(true)}\n                      >\n                        <Edit2 className=\"mr-2 h-4 w-4\" />\n                        Edit Profile\n                      </Button>\n                    </div>\n                  </div>\n                </div>\n              </SectionCard>\n            </div>\n\n            {/* Profile Details with Info Rows */}\n            <div>\n              <SectionCard title=\"Personal Information\">\n                <div ref={infoRowsRef} className=\"grid gap-6 sm:grid-cols-2 lg:grid-cols-3\">\n                  {profileDetails.map((detail) => (\n                    <div\n                      key={detail.label}\n                      className=\"profile-info-row flex items-start gap-3\"\n                    >\n                      <div className=\"rounded-lg bg-gradient-to-br from-[hsl(168_76%_40%_/_0.1)] to-[hsl(161_94%_40%_/_0.05)] p-2.5\">\n                        <detail.icon className=\"h-4 w-4 text-[hsl(168_76%_40%)]\" />\n                      </div>\n                      <div>\n                        <p className=\"text-xs font-medium text-muted-foreground\">{detail.label}</p>\n                        <p className=\"font-medium\">{detail.value}</p>\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </SectionCard>\n            </div>\n\n            {/* Employment Info with Note Box */}\n            <div ref={noteBoxRef} className=\"profile-note-box\">\n              <SectionCard title=\"Employment Information\">\n                <div className=\"grid gap-6 sm:grid-cols-2\">\n                  <div className=\"rounded-xl bg-muted/30 p-4\">\n                    <p className=\"text-xs font-medium text-muted-foreground\">Employee ID</p>\n                    <p className=\"font-mono text-lg font-semibold\">{profile?.employee_id || `EMP-${user.id}`}</p>\n                  </div>\n                  <div className=\"rounded-xl bg-muted/30 p-4\">\n                    <p className=\"text-xs font-medium text-muted-foreground\">Employment Type</p>\n                    <p className=\"text-lg font-semibold\">Full-time</p>\n                  </div>\n                  <div className=\"rounded-xl bg-muted/30 p-4\">\n                    <p className=\"text-xs font-medium text-muted-foreground\">Work Location</p>\n                    <p className=\"text-lg font-semibold\">{profile?.address ? \"Remote/On-site\" : \"Headquarters\"}</p>\n                  </div>\n                  <div className=\"rounded-xl bg-muted/30 p-4\">\n                    <div className=\"flex items-center gap-2\">\n                      <Users className=\"h-4 w-4 text-muted-foreground\" />\n                      <p className=\"text-xs font-medium text-muted-foreground\">Role</p>\n                    </div>\n                    <p className=\"text-lg font-semibold\">{user.role}</p>\n                  </div>\n                </div>\n              </SectionCard>\n            </div>\n          </>\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}